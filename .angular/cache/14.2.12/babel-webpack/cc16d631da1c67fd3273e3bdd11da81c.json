{"ast":null,"code":"'use strict'; //parse Empty Node as self closing node\n\nconst buildFromOrderedJs = require('./orderedJs2Xml');\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attributesGroupName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  cdataPropName: false,\n  format: false,\n  indentBy: '  ',\n  suppressEmptyNode: false,\n  suppressUnpairedNode: true,\n  suppressBooleanAttributes: true,\n  tagValueProcessor: function (key, a) {\n    return a;\n  },\n  attributeValueProcessor: function (attrName, a) {\n    return a;\n  },\n  preserveOrder: false,\n  commentPropName: false,\n  unpairedTags: [],\n  entities: [{\n    regex: new RegExp(\"&\", \"g\"),\n    val: \"&amp;\"\n  }, //it must be on top\n  {\n    regex: new RegExp(\">\", \"g\"),\n    val: \"&gt;\"\n  }, {\n    regex: new RegExp(\"<\", \"g\"),\n    val: \"&lt;\"\n  }, {\n    regex: new RegExp(\"\\'\", \"g\"),\n    val: \"&apos;\"\n  }, {\n    regex: new RegExp(\"\\\"\", \"g\"),\n    val: \"&quot;\"\n  }],\n  processEntities: true,\n  stopNodes: [],\n  // transformTagName: false,\n  // transformAttributeName: false,\n  oneListGroup: false\n};\n\nfunction Builder(options) {\n  this.options = Object.assign({}, defaultOptions, options);\n\n  if (this.options.ignoreAttributes || this.options.attributesGroupName) {\n    this.isAttribute = function\n      /*a*/\n    () {\n      return false;\n    };\n  } else {\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n\n  this.processTextOrObjNode = processTextOrObjNode;\n\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = '>\\n';\n    this.newLine = '\\n';\n  } else {\n    this.indentate = function () {\n      return '';\n    };\n\n    this.tagEndChar = '>';\n    this.newLine = '';\n  }\n}\n\nBuilder.prototype.build = function (jObj) {\n  if (this.options.preserveOrder) {\n    return buildFromOrderedJs(jObj, this.options);\n  } else {\n    if (Array.isArray(jObj) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1) {\n      jObj = {\n        [this.options.arrayNodeName]: jObj\n      };\n    }\n\n    return this.j2x(jObj, 0).val;\n  }\n};\n\nBuilder.prototype.j2x = function (jObj, level) {\n  let attrStr = '';\n  let val = '';\n\n  for (let key in jObj) {\n    if (typeof jObj[key] === 'undefined') {\n      // supress undefined node only if it is not an attribute\n      if (this.isAttribute(key)) {\n        val += '';\n      }\n    } else if (jObj[key] === null) {\n      // null attribute should be ignored by the attribute list, but should not cause the tag closing\n      if (this.isAttribute(key)) {\n        val += '';\n      } else if (key[0] === '?') {\n        val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n      } else {\n        val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n      } // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n\n    } else if (jObj[key] instanceof Date) {\n      val += this.buildTextValNode(jObj[key], key, '', level);\n    } else if (typeof jObj[key] !== 'object') {\n      //premitive type\n      const attr = this.isAttribute(key);\n\n      if (attr) {\n        attrStr += this.buildAttrPairStr(attr, '' + jObj[key]);\n      } else {\n        //tag value\n        if (key === this.options.textNodeName) {\n          let newval = this.options.tagValueProcessor(key, '' + jObj[key]);\n          val += this.replaceEntitiesValue(newval);\n        } else {\n          val += this.buildTextValNode(jObj[key], key, '', level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      //repeated nodes\n      const arrLen = jObj[key].length;\n      let listTagVal = \"\";\n\n      for (let j = 0; j < arrLen; j++) {\n        const item = jObj[key][j];\n\n        if (typeof item === 'undefined') {// supress undefined node\n        } else if (item === null) {\n          if (key[0] === \"?\") val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;else val += this.indentate(level) + '<' + key + '/' + this.tagEndChar; // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n        } else if (typeof item === 'object') {\n          if (this.options.oneListGroup) {\n            listTagVal += this.j2x(item, level + 1).val;\n          } else {\n            listTagVal += this.processTextOrObjNode(item, key, level);\n          }\n        } else {\n          listTagVal += this.buildTextValNode(item, key, '', level);\n        }\n      }\n\n      if (this.options.oneListGroup) {\n        listTagVal = this.buildObjectNode(listTagVal, key, '', level);\n      }\n\n      val += listTagVal;\n    } else {\n      //nested node\n      if (this.options.attributesGroupName && key === this.options.attributesGroupName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n\n        for (let j = 0; j < L; j++) {\n          attrStr += this.buildAttrPairStr(Ks[j], '' + jObj[key][Ks[j]]);\n        }\n      } else {\n        val += this.processTextOrObjNode(jObj[key], key, level);\n      }\n    }\n  }\n\n  return {\n    attrStr: attrStr,\n    val: val\n  };\n};\n\nBuilder.prototype.buildAttrPairStr = function (attrName, val) {\n  val = this.options.attributeValueProcessor(attrName, '' + val);\n  val = this.replaceEntitiesValue(val);\n\n  if (this.options.suppressBooleanAttributes && val === \"true\") {\n    return ' ' + attrName;\n  } else return ' ' + attrName + '=\"' + val + '\"';\n};\n\nfunction processTextOrObjNode(object, key, level) {\n  const result = this.j2x(object, level + 1);\n\n  if (object[this.options.textNodeName] !== undefined && Object.keys(object).length === 1) {\n    return this.buildTextValNode(object[this.options.textNodeName], key, result.attrStr, level);\n  } else {\n    return this.buildObjectNode(result.val, key, result.attrStr, level);\n  }\n}\n\nBuilder.prototype.buildObjectNode = function (val, key, attrStr, level) {\n  if (val === \"\") {\n    if (key[0] === \"?\") return this.indentate(level) + '<' + key + attrStr + '?' + this.tagEndChar;else {\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }\n  } else {\n    let tagEndExp = '</' + key + this.tagEndChar;\n    let piClosingChar = \"\";\n\n    if (key[0] === \"?\") {\n      piClosingChar = \"?\";\n      tagEndExp = \"\";\n    } // attrStr is an empty string in case the attribute came as undefined or null\n\n\n    if ((attrStr || attrStr === '') && val.indexOf('<') === -1) {\n      return this.indentate(level) + '<' + key + attrStr + piClosingChar + '>' + val + tagEndExp;\n    } else if (this.options.commentPropName !== false && key === this.options.commentPropName && piClosingChar.length === 0) {\n      return this.indentate(level) + `<!--${val}-->` + this.newLine;\n    } else {\n      return this.indentate(level) + '<' + key + attrStr + piClosingChar + this.tagEndChar + val + this.indentate(level) + tagEndExp;\n    }\n  }\n};\n\nBuilder.prototype.closeTag = function (key) {\n  let closeTag = \"\";\n\n  if (this.options.unpairedTags.indexOf(key) !== -1) {\n    //unpaired\n    if (!this.options.suppressUnpairedNode) closeTag = \"/\";\n  } else if (this.options.suppressEmptyNode) {\n    //empty\n    closeTag = \"/\";\n  } else {\n    closeTag = `></${key}`;\n  }\n\n  return closeTag;\n};\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildObjectNode(val, key, attrStr, level);\n  } else {\n    if (key[0] === \"?\") return this.indentate(level) + '<' + key + attrStr + '?' + this.tagEndChar;else {\n      return this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar; // return this.buildTagStr(level,key, attrStr);\n    }\n  }\n}\n\nBuilder.prototype.buildTextValNode = function (val, key, attrStr, level) {\n  if (this.options.cdataPropName !== false && key === this.options.cdataPropName) {\n    return this.indentate(level) + `<![CDATA[${val}]]>` + this.newLine;\n  } else if (this.options.commentPropName !== false && key === this.options.commentPropName) {\n    return this.indentate(level) + `<!--${val}-->` + this.newLine;\n  } else if (key[0] === \"?\") {\n    //PI tag\n    return this.indentate(level) + '<' + key + attrStr + '?' + this.tagEndChar;\n  } else {\n    let textValue = this.options.tagValueProcessor(key, val);\n    textValue = this.replaceEntitiesValue(textValue);\n\n    if (textValue === '') {\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    } else {\n      return this.indentate(level) + '<' + key + attrStr + '>' + textValue + '</' + key + this.tagEndChar;\n    }\n  }\n};\n\nBuilder.prototype.replaceEntitiesValue = function (textValue) {\n  if (textValue && textValue.length > 0 && this.options.processEntities) {\n    for (let i = 0; i < this.options.entities.length; i++) {\n      const entity = this.options.entities[i];\n      textValue = textValue.replace(entity.regex, entity.val);\n    }\n  }\n\n  return textValue;\n};\n\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name\n/*, options*/\n) {\n  if (name.startsWith(this.options.attributeNamePrefix) && name !== this.options.textNodeName) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = Builder;","map":{"version":3,"names":["buildFromOrderedJs","require","defaultOptions","attributeNamePrefix","attributesGroupName","textNodeName","ignoreAttributes","cdataPropName","format","indentBy","suppressEmptyNode","suppressUnpairedNode","suppressBooleanAttributes","tagValueProcessor","key","a","attributeValueProcessor","attrName","preserveOrder","commentPropName","unpairedTags","entities","regex","RegExp","val","processEntities","stopNodes","oneListGroup","Builder","options","Object","assign","isAttribute","attrPrefixLen","length","processTextOrObjNode","indentate","tagEndChar","newLine","prototype","build","jObj","Array","isArray","arrayNodeName","j2x","level","attrStr","Date","buildTextValNode","attr","buildAttrPairStr","newval","replaceEntitiesValue","arrLen","listTagVal","j","item","buildObjectNode","Ks","keys","L","object","result","undefined","closeTag","tagEndExp","piClosingChar","indexOf","buildEmptyObjNode","textValue","i","entity","replace","repeat","name","startsWith","substr","module","exports"],"sources":["/home/alexandre/projetos/uploadfile-web/node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js"],"sourcesContent":["'use strict';\n//parse Empty Node as self closing node\nconst buildFromOrderedJs = require('./orderedJs2Xml');\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attributesGroupName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  cdataPropName: false,\n  format: false,\n  indentBy: '  ',\n  suppressEmptyNode: false,\n  suppressUnpairedNode: true,\n  suppressBooleanAttributes: true,\n  tagValueProcessor: function(key, a) {\n    return a;\n  },\n  attributeValueProcessor: function(attrName, a) {\n    return a;\n  },\n  preserveOrder: false,\n  commentPropName: false,\n  unpairedTags: [],\n  entities: [\n    { regex: new RegExp(\"&\", \"g\"), val: \"&amp;\" },//it must be on top\n    { regex: new RegExp(\">\", \"g\"), val: \"&gt;\" },\n    { regex: new RegExp(\"<\", \"g\"), val: \"&lt;\" },\n    { regex: new RegExp(\"\\'\", \"g\"), val: \"&apos;\" },\n    { regex: new RegExp(\"\\\"\", \"g\"), val: \"&quot;\" }\n  ],\n  processEntities: true,\n  stopNodes: [],\n  // transformTagName: false,\n  // transformAttributeName: false,\n  oneListGroup: false\n};\n\nfunction Builder(options) {\n  this.options = Object.assign({}, defaultOptions, options);\n  if (this.options.ignoreAttributes || this.options.attributesGroupName) {\n    this.isAttribute = function(/*a*/) {\n      return false;\n    };\n  } else {\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n\n  this.processTextOrObjNode = processTextOrObjNode\n\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = '>\\n';\n    this.newLine = '\\n';\n  } else {\n    this.indentate = function() {\n      return '';\n    };\n    this.tagEndChar = '>';\n    this.newLine = '';\n  }\n}\n\nBuilder.prototype.build = function(jObj) {\n  if(this.options.preserveOrder){\n    return buildFromOrderedJs(jObj, this.options);\n  }else {\n    if(Array.isArray(jObj) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1){\n      jObj = {\n        [this.options.arrayNodeName] : jObj\n      }\n    }\n    return this.j2x(jObj, 0).val;\n  }\n};\n\nBuilder.prototype.j2x = function(jObj, level) {\n  let attrStr = '';\n  let val = '';\n  for (let key in jObj) {\n    if (typeof jObj[key] === 'undefined') {\n      // supress undefined node only if it is not an attribute\n      if (this.isAttribute(key)) {\n        val += '';\n      }\n    } else if (jObj[key] === null) {\n      // null attribute should be ignored by the attribute list, but should not cause the tag closing\n      if (this.isAttribute(key)) {\n        val += '';\n      } else if (key[0] === '?') {\n        val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n      } else {\n        val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n      }\n      // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n    } else if (jObj[key] instanceof Date) {\n      val += this.buildTextValNode(jObj[key], key, '', level);\n    } else if (typeof jObj[key] !== 'object') {\n      //premitive type\n      const attr = this.isAttribute(key);\n      if (attr) {\n        attrStr += this.buildAttrPairStr(attr, '' + jObj[key]);\n      }else {\n        //tag value\n        if (key === this.options.textNodeName) {\n          let newval = this.options.tagValueProcessor(key, '' + jObj[key]);\n          val += this.replaceEntitiesValue(newval);\n        } else {\n          val += this.buildTextValNode(jObj[key], key, '', level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      //repeated nodes\n      const arrLen = jObj[key].length;\n      let listTagVal = \"\";\n      for (let j = 0; j < arrLen; j++) {\n        const item = jObj[key][j];\n        if (typeof item === 'undefined') {\n          // supress undefined node\n        } else if (item === null) {\n          if(key[0] === \"?\") val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n          else val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n          // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n        } else if (typeof item === 'object') {\n          if(this.options.oneListGroup ){\n            listTagVal += this.j2x(item, level + 1).val;\n          }else{\n            listTagVal += this.processTextOrObjNode(item, key, level)\n          }\n        } else {\n          listTagVal += this.buildTextValNode(item, key, '', level);\n        }\n      }\n      if(this.options.oneListGroup){\n        listTagVal = this.buildObjectNode(listTagVal, key, '', level);\n      }\n      val += listTagVal;\n    } else {\n      //nested node\n      if (this.options.attributesGroupName && key === this.options.attributesGroupName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n        for (let j = 0; j < L; j++) {\n          attrStr += this.buildAttrPairStr(Ks[j], '' + jObj[key][Ks[j]]);\n        }\n      } else {\n        val += this.processTextOrObjNode(jObj[key], key, level)\n      }\n    }\n  }\n  return {attrStr: attrStr, val: val};\n};\n\nBuilder.prototype.buildAttrPairStr = function(attrName, val){\n  val = this.options.attributeValueProcessor(attrName, '' + val);\n  val = this.replaceEntitiesValue(val);\n  if (this.options.suppressBooleanAttributes && val === \"true\") {\n    return ' ' + attrName;\n  } else return ' ' + attrName + '=\"' + val + '\"';\n}\n\nfunction processTextOrObjNode (object, key, level) {\n  const result = this.j2x(object, level + 1);\n  if (object[this.options.textNodeName] !== undefined && Object.keys(object).length === 1) {\n    return this.buildTextValNode(object[this.options.textNodeName], key, result.attrStr, level);\n  } else {\n    return this.buildObjectNode(result.val, key, result.attrStr, level);\n  }\n}\n\nBuilder.prototype.buildObjectNode = function(val, key, attrStr, level) {\n  if(val === \"\"){\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }\n  }else{\n\n    let tagEndExp = '</' + key + this.tagEndChar;\n    let piClosingChar = \"\";\n    \n    if(key[0] === \"?\") {\n      piClosingChar = \"?\";\n      tagEndExp = \"\";\n    }\n  \n    // attrStr is an empty string in case the attribute came as undefined or null\n    if ((attrStr || attrStr === '') && val.indexOf('<') === -1) {\n      return ( this.indentate(level) + '<' +  key + attrStr + piClosingChar + '>' + val + tagEndExp );\n    } else if (this.options.commentPropName !== false && key === this.options.commentPropName && piClosingChar.length === 0) {\n      return this.indentate(level) + `<!--${val}-->` + this.newLine;\n    }else {\n      return (\n        this.indentate(level) + '<' + key + attrStr + piClosingChar + this.tagEndChar +\n        val +\n        this.indentate(level) + tagEndExp    );\n    }\n  }\n}\n\nBuilder.prototype.closeTag = function(key){\n  let closeTag = \"\";\n  if(this.options.unpairedTags.indexOf(key) !== -1){ //unpaired\n    if(!this.options.suppressUnpairedNode) closeTag = \"/\"\n  }else if(this.options.suppressEmptyNode){ //empty\n    closeTag = \"/\";\n  }else{\n    closeTag = `></${key}`\n  }\n  return closeTag;\n}\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildObjectNode(val, key, attrStr, level);\n  } else {\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return  this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n      // return this.buildTagStr(level,key, attrStr);\n    }\n  }\n}\n\nBuilder.prototype.buildTextValNode = function(val, key, attrStr, level) {\n  if (this.options.cdataPropName !== false && key === this.options.cdataPropName) {\n    return this.indentate(level) + `<![CDATA[${val}]]>` +  this.newLine;\n  }else if (this.options.commentPropName !== false && key === this.options.commentPropName) {\n    return this.indentate(level) + `<!--${val}-->` +  this.newLine;\n  }else if(key[0] === \"?\") {//PI tag\n    return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar; \n  }else{\n    let textValue = this.options.tagValueProcessor(key, val);\n    textValue = this.replaceEntitiesValue(textValue);\n  \n    if( textValue === ''){\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }else{\n      return this.indentate(level) + '<' + key + attrStr + '>' +\n         textValue +\n        '</' + key + this.tagEndChar;\n    }\n  }\n}\n\nBuilder.prototype.replaceEntitiesValue = function(textValue){\n  if(textValue && textValue.length > 0 && this.options.processEntities){\n    for (let i=0; i<this.options.entities.length; i++) {\n      const entity = this.options.entities[i];\n      textValue = textValue.replace(entity.regex, entity.val);\n    }\n  }\n  return textValue;\n}\n\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name /*, options*/) {\n  if (name.startsWith(this.options.attributeNamePrefix) && name !== this.options.textNodeName) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = Builder;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}